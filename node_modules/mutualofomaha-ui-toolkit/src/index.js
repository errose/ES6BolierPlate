var Accordion = require('moo-component-accordion');
var Form = require('moo-component-form');
var Header = require('moo-component-header');
var Loader = require('moo-component-loader');
var Overlay = require('moo-component-overlay');

var Openable = require('moo-jsutil-openable');
var Stickable = require('moo-jsutil-stickable');

var Cookies = require('js-cookie');

Accordion.init();
Form.init();
Header.init();
Loader.init();
Overlay.init();

Openable.init();
Stickable.init();

// Browse Happy
if(Cookies.get('ie8') !== 'true') {
  $('.lt-ie9')
    .addClass('u-nbfc')
    .find('body')
    .append('<div class="BrowseHappy"><div class="BrowseHappy-icon"><p class="h5 strong">This site is not optimized for this browser. Here are some <a href="http://outdatedbrowser.com/en">options for a better experience</a>.</div></a><div class="BrowseHappy-close"></div></div>');

  $(document).on('click', '.BrowseHappy-close', function() {
    $(document).find('.BrowseHappy').remove();
    $('.lt-ie9').removeClass('u-nbfc');
    Cookies.set('ie8', 'true', {path: '/'});
  });
}
